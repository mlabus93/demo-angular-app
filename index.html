<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Demo Angular App by mlabus93</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Demo Angular App</h1>
      <h2 class="project-tagline">Demo app with best practices for angular 1.x</h2>
      <a href="https://github.com/mlabus93/demo-angular-app" class="btn">View on GitHub</a>
      <a href="https://github.com/mlabus93/demo-angular-app/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/mlabus93/demo-angular-app/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="vts-gui-coding-guidelines" class="anchor" href="#vts-gui-coding-guidelines" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>VTS GUI Coding Guidelines</h1>

<h2>
<a id="summary" class="anchor" href="#summary" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Summary</h2>

<p>This will provide the basis for organization, structure and best practices for an AngularJS 1.x application. This guide borrows heavily from John Papa's (<a href="https://github.com/johnpapa" class="user-mention">@johnpapa</a>) guide, which can be viewed here: <a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md">https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md</a></p>

<h2>
<a id="table-of-contents" class="anchor" href="#table-of-contents" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Table of Contents</h2>

<ol>
<li><a href="#naming-conventions">Naming Conventions</a></li>
<li><a href="#project-organization">Project Organization</a></li>
<li><a href="#modules">Modules</a></li>
<li><a href="#controllers">Controllers</a></li>
<li><a href="#services-and-factories">Services and Factories</a></li>
<li><a href="#directives">Directives</a></li>
<li><a href="#lazyload">Lazyload</a></li>
<li><a href="#routing">Routing</a></li>
<li><a href="#unit-tests">Unit Tests</a></li>
<li><a href="#license">License</a></li>
</ol>

<h2>
<a id="naming-conventions" class="anchor" href="#naming-conventions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Naming Conventions</h2>

<p>All naming should describe the specific component or file being used.</p>

<h3>
<a id="components" class="anchor" href="#components" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Components</h3>

<ul>
<li>
<p>Controllers and Services should be named in Pascal case and suffixed with their respective component type.</p>

<blockquote>
<p>ExampleCtrl, SomeTestSvc</p>
</blockquote>
</li>
<li><p>Module names should be camel cased.<br>
<code>angular.module('someTestApp', []);</code></p></li>
<li><p>Submodules should be prefixed with their parent module using dot syntax.<br>
<code>angular.module('app', ['app.routes']);</code></p></li>
<li><p>Directives should be prefixed to avoid collisions with future html or angular specs.<br>
<code>.directive('vtcCarousel', vtcCarousel) &lt;vtc-carousel&gt; &lt;/vtc-carousel&gt;</code></p></li>
</ul>

<h3>
<a id="files" class="anchor" href="#files" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Files</h3>

<ul>
<li><p>All file names should use camel casing.</p></li>
<li>
<p>For Angular files, suffix the file with the type of component it is.</p>

<blockquote>
<p>'ExampleCtrl' should be named example.ctrl.js<br>
 'SomeTestSvc' should be named someTest.svc.js<br>
'app' module should be named app.module.js</p>
</blockquote>
</li>
<li>
<p>Submodules should leave out the prefix during file naming.</p>

<blockquote>
<p>'app.routes' should be named routes.module.js</p>
</blockquote>
</li>
<li>
<p>Config blocks should be named based off of their module name.</p>

<blockquote>
<p>'exampleModule' should have a config file named exampleModule.config.js</p>
</blockquote>
</li>
</ul>

<h2>
<a id="project-organization" class="anchor" href="#project-organization" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Project Organization</h2>

<pre><code>    /app
      /bower_components
      /modules
        /feature1
          feature1.ctrl.js
          feature1.module.js
          feature1.html
        /feature2
      /style
        /css
        /less
      /test
        /lib
          specHelper.js
        feature1.ctrl.spec.js
      bower.json
      gulpfile.js
      karma.conf.js
      package.json
      vendor.base.json
      vendor.json
    /dist
      /css
      /i18n
      /js
        app.js
        base.js
      /views
        /feature1
          feature1.html
        /feature2
</code></pre>

<ul>
<li><p>There should be a working directory for app development and a directory specific for dist.</p></li>
<li><p>Inside of the working directory, there should be a folder for features of the project. This folder contains subfolders for all the features and each feature should have it's own module.</p></li>
<li><p>All of the components (controllers, services, config, etc.) and markup (html) of the module should be kept in the specific feature's directory.</p></li>
<li><p>Each component should exist in it's own file independent of other components. The only exceptions would be including run blocks after a config or providers with config.</p></li>
<li>
<p>Each angular component file should be wrapped in an IIFE (Immediately Invoked Function Expression) to avoid pollution to the global scope. Additionally, use strict mode inside of each angular component file.</p>

<div class="highlight highlight-source-js"><pre>  (<span class="pl-k">function</span>() {
    <span class="pl-s"><span class="pl-pds">'</span>use strict<span class="pl-pds">'</span></span>;
  })();</pre></div>
</li>
<li><p>There are vendor.json and vendor.base.json config files used for including scripts and libraries. The vendor.json file pulls the specified files from bower_components and copies them to a vendor folder in the dist folder. These files are used for lazyloading modules into the application. The vendor.base.json file includes the script files that are required for the application to initially run. This would include the AngularJS and jQuery libraries, as well as other startup dependencies. These files are concatenated into a base.js file that is placed in the dist/js folder and included in the index.html file.</p></li>
<li><p>The app folder files get copied to dist with a gulp task that groups them by file types. The js files get concatenated into one file called app.js in the dist/js folder.</p></li>
</ul>

<h2>
<a id="modules" class="anchor" href="#modules" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Modules</h2>

<ul>
<li>
<p>There should be a main application module for 'glueing' the app together, a core features module for common modules that can be used across apps (angular modules, logger, exception handling, routing, lazyload), and individual features modules for the specific application features.  </p>

<div class="highlight highlight-source-js"><pre>  <span class="pl-smi">angular</span>.<span class="pl-en">module</span>(<span class="pl-s"><span class="pl-pds">'</span>app.feature1<span class="pl-pds">'</span></span>, [
    <span class="pl-s"><span class="pl-pds">'</span>app.core<span class="pl-pds">'</span></span>
  ]);</pre></div>

<div class="highlight highlight-source-js"><pre>  <span class="pl-smi">angular</span>.<span class="pl-en">module</span>(<span class="pl-s"><span class="pl-pds">'</span>app.core<span class="pl-pds">'</span></span>, [
    <span class="pl-s"><span class="pl-pds">'</span>ngAnimate<span class="pl-pds">'</span></span>,
    <span class="pl-s"><span class="pl-pds">'</span>blocks.logger<span class="pl-pds">'</span></span>,
    <span class="pl-s"><span class="pl-pds">'</span>blocks.exception<span class="pl-pds">'</span></span>
  ]);</pre></div>

<div class="highlight highlight-source-js"><pre>  <span class="pl-smi">angular</span>.<span class="pl-en">module</span>(<span class="pl-s"><span class="pl-pds">'</span>app<span class="pl-pds">'</span></span>, [
    <span class="pl-s"><span class="pl-pds">'</span>app.core<span class="pl-pds">'</span></span>,
    <span class="pl-s"><span class="pl-pds">'</span>app.feature1<span class="pl-pds">'</span></span>
  ]);</pre></div>
</li>
<li>
<p>Modules should be defined with setter syntax.</p>

<p><code>angular.module('app', []);</code></p>
</li>
<li>
<p>Modules should be retrieved with getter syntax.</p>

<div class="highlight highlight-source-js"><pre>  angular
    .<span class="pl-en">module</span>(<span class="pl-s"><span class="pl-pds">'</span>app<span class="pl-pds">'</span></span>)
    .<span class="pl-en">controller</span>(<span class="pl-s"><span class="pl-pds">'</span>AttachedToAppCtrl<span class="pl-pds">'</span></span>, AttachedToAppCtrl);</pre></div>
</li>
<li><p>Pass in named functions to components so they are easier to read and debug (as shown above).</p></li>
<li>
<p>When injecting into components, use the '$inject' function to keep the code safe when minifying.</p>

<div class="highlight highlight-source-js"><pre>  .<span class="pl-en">controller</span>(<span class="pl-s"><span class="pl-pds">'</span>DemoCtrl<span class="pl-pds">'</span></span>, DemoCtrl);

  <span class="pl-smi">DemoCtrl</span>.<span class="pl-smi">$inject</span> <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">'</span>InjectedSvc<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>$log<span class="pl-pds">'</span></span>];
  <span class="pl-k">function</span> <span class="pl-en">DemoCtrl</span>(<span class="pl-smi">InjectedSvc</span>, <span class="pl-smi">$log</span>) {
    <span class="pl-k">var</span> vm <span class="pl-k">=</span> <span class="pl-v">this</span>;
  }</pre></div>
</li>
</ul>

<h2>
<a id="controllers" class="anchor" href="#controllers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Controllers</h2>

<ul>
<li><p>Controllers should be used as 'the glue' between your view model. Logic in controllers should be extracted and placed inside of a service.</p></li>
<li>
<p>Use the 'controller as' syntax for views. Explicit naming in the view allows easy identification of a controller context, especially when controllers are nested.</p>

<div class="highlight highlight-text-html-basic"><pre>  &lt;<span class="pl-ent">div</span> <span class="pl-e">ng-controller</span>=<span class="pl-s"><span class="pl-pds">"</span>SomeCtrl as SomeCtrl<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">h1</span>&gt;{{ SomeCtrl.title }}&lt;/<span class="pl-ent">h1</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">ng-controller</span>=<span class="pl-s"><span class="pl-pds">"</span>NestedCtrl as NestedCtrl&gt;</span>
<span class="pl-s">      &lt;input ng-model=<span class="pl-pds">"</span></span><span class="pl-e">NestedCtrl</span>.<span class="pl-e">value</span><span class="pl-s"><span class="pl-pds">"</span>/&gt;</span>
<span class="pl-s">      &lt;h5&gt;{{ NestedCtrl.value }}&lt;/h5&gt;</span>
<span class="pl-s">      &lt;p&gt;{{ SomeCtrl.valueFromParent }}&lt;/p&gt;</span>
<span class="pl-s">    &lt;/div&gt;</span>
<span class="pl-s">  &lt;/div&gt;</span></pre></div>
</li>
<li>
<p>Use the ui-router to assign controllers to views. If no route is associated with the view, then use the above 'ng-controller' directive.</p>

<div class="highlight highlight-source-js"><pre>  .<span class="pl-en">state</span>(<span class="pl-s"><span class="pl-pds">'</span>app.home<span class="pl-pds">'</span></span>, {
    url<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>/home<span class="pl-pds">'</span></span>,
    templateUrl<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>/home.html<span class="pl-pds">'</span></span>,
    controller<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>HomeCtrl<span class="pl-pds">'</span></span>,
    controllerAs<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>HomeCtrl<span class="pl-pds">'</span></span>
  });</pre></div>
</li>
<li>
<p>Use 'controller as' syntax for controller js by binding 'this' to a variable (this isn't used directly because of lexical issues in javascript). This helps prevent the urge to bind everything to $scope.</p>

<div class="highlight highlight-source-js"><pre>  angular
    .<span class="pl-en">module</span>(<span class="pl-s"><span class="pl-pds">'</span>app.home<span class="pl-pds">'</span></span>)
    .<span class="pl-en">controller</span>(<span class="pl-s"><span class="pl-pds">'</span>HomeCtrl<span class="pl-pds">'</span></span>, HomeCtrl);

  <span class="pl-k">function</span> <span class="pl-en">HomeCtrl</span>() {
    <span class="pl-k">var</span> vm <span class="pl-k">=</span> <span class="pl-v">this</span>; <span class="pl-c">//vm is short for view model</span>
  }</pre></div>
</li>
<li><p>Bindable members should be kept at the top with function definitions placed below in alphabetical order for readability.</p></li>
<li>
<p>An 'activate' or 'init' function should be specified for controllers that need to perform work upon initialization.</p>

<div class="highlight highlight-source-js"><pre>  <span class="pl-smi">ExampleCtrl</span>.<span class="pl-smi">$inject</span> <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">'</span>SomeSvc<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>FilterSvc<span class="pl-pds">'</span></span>];
  <span class="pl-k">function</span> <span class="pl-en">ExampleCtrl</span>(<span class="pl-smi">SomeSvc</span>, <span class="pl-smi">FilterSvc</span>) {
    <span class="pl-k">var</span> vm <span class="pl-k">=</span> <span class="pl-v">this</span>;
    <span class="pl-smi">vm</span>.<span class="pl-smi">filteredItems</span> <span class="pl-k">=</span> [];
    <span class="pl-smi">vm</span>.<span class="pl-smi">items</span> <span class="pl-k">=</span> [];
    <span class="pl-smi">vm</span>.<span class="pl-c1">value</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>;
    <span class="pl-c">// binded functions</span>
    <span class="pl-smi">vm</span>.<span class="pl-smi">doTask</span> <span class="pl-k">=</span> doTask;
    <span class="pl-smi">vm</span>.<span class="pl-smi">filterItems</span> <span class="pl-k">=</span> filterItems;

    <span class="pl-en">activate</span>();

    <span class="pl-k">function</span> <span class="pl-en">activate</span>() {
      <span class="pl-smi">SomeSvc</span>.<span class="pl-en">doSomethingInitially</span>();
    }

    <span class="pl-k">function</span> <span class="pl-en">doTask</span>() {
      <span class="pl-smi">vm</span>.<span class="pl-c1">value</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Task completed<span class="pl-pds">'</span></span>;
    }

    <span class="pl-k">function</span> <span class="pl-en">filterItems</span>() {
      <span class="pl-smi">vm</span>.<span class="pl-smi">filteredItems</span> <span class="pl-k">=</span> <span class="pl-smi">FilterSvc</span>.<span class="pl-en">filterItemList</span>(<span class="pl-smi">vm</span>.<span class="pl-smi">items</span>);
    }
  }</pre></div>
</li>
</ul>

<h2>
<a id="services-and-factories" class="anchor" href="#services-and-factories" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Services and Factories</h2>

<ul>
<li>
<p>Services and factories in angular are singletons. Since the two are so similar, use factories for consistency.</p>

<div class="highlight highlight-source-js"><pre>  angular
    .<span class="pl-en">module</span>(<span class="pl-s"><span class="pl-pds">'</span>app.auth<span class="pl-pds">'</span></span>)
    .<span class="pl-en">factories</span>(<span class="pl-s"><span class="pl-pds">'</span>AuthSvc<span class="pl-pds">'</span></span>, AuthSvc);</pre></div>
</li>
<li><p>Factories should have a single responsibility.</p></li>
<li>
<p>As with controllers, accessible members should be placed up top (in a service variable to be returned). Their function declarations should be placed below in alphabetical order.</p>

<div class="highlight highlight-source-js"><pre>  angular
    .<span class="pl-en">module</span>(<span class="pl-s"><span class="pl-pds">'</span>app.auth<span class="pl-pds">'</span></span>)
    .<span class="pl-en">factory</span>(<span class="pl-s"><span class="pl-pds">'</span>AuthSvc<span class="pl-pds">'</span></span>, AuthSvc);

  <span class="pl-smi">AuthSvc</span>.<span class="pl-smi">$inject</span> <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">'</span>$http<span class="pl-pds">'</span></span>];
  <span class="pl-k">function</span> <span class="pl-en">AuthSvc</span>(<span class="pl-smi">$http</span>) {
    <span class="pl-k">var</span> service <span class="pl-k">=</span> {
      getRole<span class="pl-k">:</span> getRole,
      login<span class="pl-k">:</span> login,
      logout<span class="pl-k">:</span> logout
    };
    <span class="pl-k">return</span> service;

    <span class="pl-k">function</span> <span class="pl-en">getRole</span>() {
    }

    <span class="pl-k">function</span> <span class="pl-en">login</span>() {
    }

    <span class="pl-k">function</span> <span class="pl-en">logout</span>() {
    }
  }</pre></div>
</li>
</ul>

<h2>
<a id="directives" class="anchor" href="#directives" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Directives</h2>

<ul>
<li><p>Directives should be used when manipulating the DOM directly, unless CSS or angular directives can be used.</p></li>
<li>
<p>Use the restrict property with element and/or attribute and avoid class and comment.</p>

<div class="highlight highlight-source-js"><pre>  .<span class="pl-en">directive</span>(<span class="pl-s"><span class="pl-pds">'</span>vtsCalendar<span class="pl-pds">'</span></span>, vtsCalendar);

  <span class="pl-k">function</span> <span class="pl-en">vtsCalendar</span>() {
    <span class="pl-k">var</span> directive <span class="pl-k">=</span> {
      link<span class="pl-k">:</span> link,
      templateUrl<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>vtsCalendar.html<span class="pl-pds">'</span></span>,
      restrict<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>EA<span class="pl-pds">'</span></span>,
      controller<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>TestCtrl<span class="pl-pds">'</span></span>,
      controllerAs<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>TestCtrl<span class="pl-pds">'</span></span>
    };
    <span class="pl-k">return</span> directive;

    <span class="pl-k">function</span> <span class="pl-en">link</span>(<span class="pl-smi">scope</span>, <span class="pl-smi">element</span>, <span class="pl-smi">attrs</span>) {
    }
  }</pre></div>
</li>
<li><p>Use controllerAs for directives for consistency (shown above).</p></li>
</ul>

<h2>
<a id="lazyload" class="anchor" href="#lazyload" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Lazyload</h2>

<ul>
<li><p>Lazyloading allows loading modules/scripts that are used for specific views/states, instead of loading everything at once when it may not even be needed.</p></li>
<li>
<p>The lazyload module is included as a shared module for reusability. A constant component is added to the module to specify paths to the file(s) by key-value when loading.</p>

<div class="highlight highlight-source-js"><pre>  angular
    .<span class="pl-en">module</span>(<span class="pl-s"><span class="pl-pds">'</span>blocks.lazyload<span class="pl-pds">'</span></span>)
    .<span class="pl-en">constant</span>(<span class="pl-s"><span class="pl-pds">'</span>APP_REQUIRES<span class="pl-pds">'</span></span>, {
      <span class="pl-c">// stand-alone scripts</span>
      scripts<span class="pl-k">:</span> {
      },
      <span class="pl-c">// angular scripts</span>
      modules<span class="pl-k">:</span> [
        { name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>ngTable<span class="pl-pds">'</span></span>,      files<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>vendor/ng-table/dist/ng-table.js<span class="pl-pds">'</span></span>,
                                        <span class="pl-s"><span class="pl-pds">'</span>vendor/ng-table/dist/ng-table.css<span class="pl-pds">'</span></span>]}
      ]
    });</pre></div>
</li>
<li><p>Lazyloading insertion into specific states/views is done with a provider included within the router module to allow loading modules/scripts by passing them into a function by name (see below).</p></li>
</ul>

<h2>
<a id="routing" class="anchor" href="#routing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Routing</h2>

<ul>
<li><p>The angular-ui-router is used as the router because of it's added abilities for managing states and nested states.</p></li>
<li><p>A separate module is created for routing to allow use in other applications.</p></li>
<li>
<p>A 'route helper' provider is used for setting the base path to templates and lazyloading modules/scripts.</p>

<div class="highlight highlight-source-js"><pre>  <span class="pl-c">// NOTE: RouteHelper is injected above to the config function</span>
  $stateProvider
    .<span class="pl-en">state</span>(<span class="pl-s"><span class="pl-pds">'</span>dashboard<span class="pl-pds">'</span></span>, {
      url<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>/dashboard<span class="pl-pds">'</span></span>,
      templateUrl<span class="pl-k">:</span> <span class="pl-smi">RouteHelper</span>.<span class="pl-smi">config</span>.<span class="pl-en">basepath</span>(<span class="pl-s"><span class="pl-pds">'</span>dashboard/dashboard.html<span class="pl-pds">'</span></span>),
      resolve<span class="pl-k">:</span> <span class="pl-smi">RouteHelper</span>.<span class="pl-smi">config</span>.<span class="pl-en">resolveFor</span>(<span class="pl-s"><span class="pl-pds">'</span>ngTable<span class="pl-pds">'</span></span>)
    });</pre></div>
</li>
</ul>

<h2>
<a id="unit-tests" class="anchor" href="#unit-tests" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Unit Tests</h2>

<ul>
<li>
<p>Each angular component file should have it's own test associated with it.  </p>

<blockquote>
<p>example.ctrl.js with test file example.ctrl.spec.js</p>
</blockquote>
</li>
<li><p>All test files should use the Jasmine testing framework and should be written in BDD/TDD style.</p></li>
<li><p>Each unit test should test the specified component in isolation, with injected dependencies being mocked.</p></li>
<li><p>'beforeEach' and 'afterEach' blocks should be used for any work needed to be done prior to and after tests, such as injections and cleaning up.</p></li>
<li>
<p>When injecting into tests, wrap the item in underscores so a variable of the same name can be used to assign to it. Angular automatically strips the underscores and it is convention to include the underscores.  </p>

<div class="highlight highlight-source-js"><pre>  <span class="pl-k">var</span> SomeSvc;
  <span class="pl-en">beforeEach</span>(<span class="pl-en">inject</span>(<span class="pl-k">function</span>(<span class="pl-smi">_SomeSvc_</span>) {
    SomeSvc <span class="pl-k">=</span> _SomeSvc_;
  }));</pre></div>
</li>
<li>
<p>The unit test should start with a describe block naming the component being tested and checking if it is defined. There should be nested describe blocks for each function and 'it' blocks describing each test. An example is shown below:</p>

<div class="highlight highlight-source-js"><pre>  <span class="pl-c">// test.ctrl.js</span>
  angular
    .<span class="pl-en">module</span>(<span class="pl-s"><span class="pl-pds">'</span>app.test<span class="pl-pds">'</span></span>)
    .<span class="pl-en">controller</span>(<span class="pl-s"><span class="pl-pds">'</span>TestCtrl<span class="pl-pds">'</span></span>, TestCtrl);

  <span class="pl-k">function</span> <span class="pl-en">TestCtrl</span>() {
    <span class="pl-k">var</span> vm <span class="pl-k">=</span> <span class="pl-v">this</span>;
    <span class="pl-smi">vm</span>.<span class="pl-smi">items</span> <span class="pl-k">=</span> [];
    <span class="pl-smi">vm</span>.<span class="pl-smi">setItems</span> <span class="pl-k">=</span> setItems;

    <span class="pl-k">function</span> <span class="pl-en">setItems</span>() {
      <span class="pl-smi">vm</span>.<span class="pl-smi">items</span> <span class="pl-k">=</span> [{id<span class="pl-k">:</span> <span class="pl-c1">1</span>, name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>one<span class="pl-pds">'</span></span>}, {id<span class="pl-k">:</span> <span class="pl-c1">2</span>, name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>two<span class="pl-pds">'</span></span>}];
    }
  }</pre></div>

<div class="highlight highlight-source-js"><pre>  <span class="pl-c">// test.ctrl.spec.js</span>
  <span class="pl-en">describe</span>(<span class="pl-s"><span class="pl-pds">'</span>TestCtrl<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-k">var</span> $controller, vm;

    <span class="pl-en">beforeEach</span>(<span class="pl-c1">module</span>(<span class="pl-s"><span class="pl-pds">'</span>app.test<span class="pl-pds">'</span></span>));
    <span class="pl-en">beforeEach</span>(<span class="pl-en">inject</span>(<span class="pl-k">function</span>(<span class="pl-smi">_$controller_</span>) {
      $controller <span class="pl-k">=</span> _$controller_;
      vm <span class="pl-k">=</span> <span class="pl-en">$controller</span>(<span class="pl-s"><span class="pl-pds">'</span>TestCtrl<span class="pl-pds">'</span></span>);
    }));

    <span class="pl-en">it</span>(<span class="pl-s"><span class="pl-pds">'</span>should be defined<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
      <span class="pl-en">expect</span>(vm).<span class="pl-en">toBeDefined</span>();
    });

    <span class="pl-en">describe</span>(<span class="pl-s"><span class="pl-pds">'</span>setItems function<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
      <span class="pl-en">it</span>(<span class="pl-s"><span class="pl-pds">'</span>should exist<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
        <span class="pl-en">expect</span>(<span class="pl-smi">vm</span>.<span class="pl-smi">setItems</span>).<span class="pl-en">toBeDefined</span>();
      });

      <span class="pl-en">it</span>(<span class="pl-s"><span class="pl-pds">'</span>should assign two items when called<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
        <span class="pl-smi">vm</span>.<span class="pl-en">setItems</span>();
        <span class="pl-en">expect</span>(<span class="pl-smi">vm</span>.<span class="pl-smi">items</span>.<span class="pl-c1">length</span>).<span class="pl-en">toEqual</span>(<span class="pl-c1">2</span>);
      });
    });
  });</pre></div>
</li>
</ul>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<ul>
<li>Since this guide includes many practices from John Papa's (<a href="https://github.com/johnpapa" class="user-mention">@johnpapa</a>) guide, I have included his license.</li>
</ul>

<p>The MIT License (MIT)</p>

<p>Copyright (c) 2014-2016 John Papa</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p>

<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>Mike Labus (<a href="https://github.com/mlabus93" class="user-mention">@mlabus93</a>)</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/mlabus93/demo-angular-app">Demo Angular App</a> is maintained by <a href="https://github.com/mlabus93">mlabus93</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
